{
    "name": "Wordpress Data Puppeteer Scenario",
    "author": "Arne Tarara",
    "version": 1,
    "architecture": "linux",
    "setup": [
        {
            "type": "network",
            "name": "wordpress-mariadb-data-green-coding-network"
        },
        {
          "name": "green-coding-wordpress-mariadb-data-container",
          "type": "container",
          "identifier": "wordpress-mariadb-data_db",
          "env": {
            "MYSQL_ROOT_PASSWORD": "somewordpress",
            "MYSQL_DATABASE": "wordpress",
            "MYSQL_USER": "wordpress",
            "MYSQL_PASSWORD": "wordpress"
          },
	  "portmapping": "9875:9875",
          "setup-commands": [
                "sleep 20"                
          ],
          "network": "wordpress-mariadb-data-green-coding-network"
        },
        {
          "name": "green-coding-wordpress-apache-data-container",
          "type": "container",
          "identifier": "wordpress-mariadb-data_wordpress",
          "env": {
              "WORDPRESS_DB_HOST": "green-coding-wordpress-mariadb-data-container",
              "WORDPRESS_DB_USER": "wordpress",
              "WORDPRESS_DB_PASSWORD": "wordpress",
              "WORDPRESS_DB_NAME": "wordpress"
          },
	  "portmapping": "3306:3306",
          "network": "wordpress-mariadb-data-green-coding-network",
          "folder-destination": "/tmp/repo"
        },
        {
            "name": "green-coding-puppeteer-container",
            "type": "container",
            "identifier": "puppeteer_green-coding-puppeteer",
            "setup-commands": [
                "cp /tmp/repo/puppeteer-flow.js /var/www/puppeteer/puppeteer-flow.js"                
            ],
            "network": "wordpress-mariadb-data-green-coding-network"
        }
    ],
    "flow": [
        {
            "name": "Check Website",
            "container": "green-coding-puppeteer-container",
            "commands": [
                {
                    "type": "console",
                    "command": "node /var/www/puppeteer/puppeteer-flow.js",
			"note": "Starting Pupeteer Flow"
                }, {"type":"console", "command": "date", "note": "Ending puppeteer flow"}
            ]
        }
    ]
}
